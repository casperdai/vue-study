package.json



### 编译路口

scripts/build.js

查看配置：scripts/config.js

版本编译文件后缀含义如下：

- dev：开发版本，env为development
- prod：生产版本，env为production
- runtime：不包含编译器
- common：common js模式，format为ejs
- esm：通过import引用，format为esm
- 无编译后缀：umd模式，format为umd
- browser：用于支持es6等新语法的浏览器中，未进行babel转码

### 主代码

```
// Runtime+compiler ES modules build (for bundlers)
'web-full-esm': {
	entry: resolve('web/entry-runtime-with-compiler.js'),
	dest: resolve('dist/vue.esm.js'),
	format: 'es',
	alias: { he: './entity-decoder' },
	banner
}

src/scripts/alias.js
module.exports = {
  vue: resolve('src/platforms/web/entry-runtime-with-compiler'),
  compiler: resolve('src/compiler'),
  core: resolve('src/core'),
  shared: resolve('src/shared'),
  web: resolve('src/platforms/web'),
  weex: resolve('src/platforms/weex'),
  server: resolve('src/server'),
  sfc: resolve('src/sfc')
}

src/platforms/web/entry-runtime-with-compiler.js

import Vue from './runtime/index'
对应src/platforms/web/runtime/index.js

import Vue from 'core/index'
对应src/core/index.js

import Vue from './instance/index'
对应src/core/instance/index.js
```

